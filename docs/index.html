<!DOCTYPE html>

<html lang="en">

<head>

<meta charset="UTF-8">
<meta name="viewport"  content="width=device-width, initial-scale=1.0" />
<meta property="og:image" content="https://michaeleskin.com/abctools/img/abc-icon.png" />

<title>CLC Tunebook</title>

<style>

    body {
        font-family: Arial, sans-serif;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 95vh;
        margin: 0;
        background-color: #FFFFFF;
    }

    #viewer {
        width: 95%;
        height: 80%;
        text-align: center;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        margin-top: 80px;
    }

    #viewer img {
        max-width: 100%;
        max-height: 100%;
        cursor: pointer;
        background:white;
        padding: 0px 0px 24px 0px
    }

    #controls {
        margin-top: 32px;
    }

    #prev::after {
        content: 'Previous';
    }

    #next::after {
       content: 'Next';
    }

    button {
        margin: 7px;
        padding: 10px 20px;
        font-size: 14px;
        border-radius: 0px;
        color:black;
        background:white;
        -webkit-appearance: none;
    }

    select{
        display:inline;
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        background: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100' fill='%238C98F2'><polygon points='0,0 100,0 50,50'/></svg>") no-repeat;
        background-size: 12px;
        background-position: calc(100% - 10px) center;
        background-repeat: no-repeat;
        background-color: #efefef;
        color:black;
        font-size:12pt;
        font-family:"Arial";
        height:40px;
        width:300px;
        padding-left:10px;
        margin:7px;
    }

    #title {
        font-size: 2.5em;
        font-weight: bold;
        color: #000000;
    }

    #subtitle {
        font-size: 1.5em;
        color: #000000;
        margin-top: 24px;
    }

    #image_gallery{
        display:none;
    }

    #print_title{
        display:none;
    }

    #print_subtitle{
        display:none;
    }

    @media print {

        .hidden-print {
            display: none !important;
        }

        body {
            display:block !important;
            background-color: white !important;
            background-image: none !important;
            justify-content: unset !important;
            height: auto !important;
            margin: 0;
        }

        body, html {
            margin: 0 !important;;
            padding: 0 !important;;
            width: 100% !important;;
        }

        #print_title {
          display:block;
          font-family: Arial, sans-serif;
          font-size: 24px;
          color: black;
          text-align: center;
          margin-top: 32vh;
          font-size: 1.9em;
        }

        #print_subtitle {
          display:block;
          font-family: Arial, sans-serif;
          font-size: 18px;
          margin-top: 24px;
          color: black;
          text-align: center;
          font-size: 1.25em;
          page-break-after: always;
        }

        #image_gallery{
          display:block;
        }

        .image-container {
          width: 100%;
          border: 0px !important;
          margin: 0px !important;
          padding: 0px !important;
          text-align: center;
        }

        .image-container img {
          max-width: 100%;
          width: 100% !important;
          height: auto;
          cursor: pointer;
          border: 0px !important;
          margin: 0px !important;
          padding: 0px !important;
          background: white;
        }

    }

    a {
        font-size: 18px;
        text-decoration: none;
        color: #000000;
    }
    a:link {
        color: #000000;
    }
    a:visited {
        color: #000000;
    }
    a:hover {
        color: #000000;
    }
    a:active {
        color: #000000;
    }

    * {
      touch-action: manipulation;
    }

    @media screen and (max-width: 45rem) {

        #viewer {
            margin-top: 0px;
        }

        #first, #last {
            display: none;
        }

        #prev, #next {
            width: 40px;
            padding: 10px;
        }

        #prev::after {
            content: '←';
        }

        #next::after {
            content: '→';
        }

        #controls {
            width: 90svw;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #tuneselector {
            display: flex;
            width: 70%;
            padding-right: 32px;
        }

        #website_help {
            left: 16px;
            top: 20px;
        }

    }

</style>

</head>

<body>

    <div class="hidden-print" id="viewer">
        <div id="title" style="display:none;">CLC Tunebook</div>
        <div id="subtitle" style="display:none;">Select a tune from the dropdown to load it into the frame below:</div>
        <img id="image" src="" title="" alt="SVG Viewer" />
    </div>

    <div class="hidden-print" id="controls">
        <button id="first">First</button>
        <button id="prev"></button>
        <select id="tuneselector" title="Select a tune from the list"></select>
        <button id="next"></button>
        <button id="last">Last</button>
    </div>

    <div id="print_title">CLC Tunebook</div>
    <div id="print_subtitle">Select a tune from the dropdown to load it into the frame below:</div>
    <div id="image_gallery"></div>

    <script>

    const tunes=[{"Name":"The Big Scioty","Filename":"The Big Scioty.svg","URL":"https://michaeleskin.com/abctools/abctools.html?lzw=KTAuEtQGwUwMwPYDtQAJ0YCrgLYwM4C0AQglACaoBMALAFAj4CuARhNPMmutnkQJKgAhlHABjfKgCMADgbAxCHAAcE+GACdEKLLgKFBI8fnkBzMQAsEG8tu4YAwgiYbwm+cqEbQ+OxgwAEjBQAG4wEGJC8qAwAB6gfv7oTi5uGnR0ABoAXNIA7ACsAMxSBTRUAJwVdJi5mBYwqMTgpqgAymLgCKAAnjW5ABT4LRaECKMxMACUdA51GkLkAHR0AEq5GjDBdAByuTtCeJRCcDEaqKAN7Z3dCKir4GHn4EioAPIWXUuoAIJQ+Hd8MpgrBKB0usIADTXCEwFYALVyDkOqAcGjUkgA7pALKgQl5wEIIMhJCweqgAFLjV4OCyHFiaSQAHgAVmJsqBXFBREIkEscJAljByEwAHx0ACyuRoAHp6ABpXIAcQYDCELDELPwAH0AUwkLYuKg4FAmOByPIJfwACL8VDKdGmBY4VAABktNrtLCE+CBjrdHttqEs1nIDoQrXdICtQe9vpCZFQADZ6NHPcGrDYE1Bk6nFuRtSIoNrlFAhD1vWIANba0RIKsmADaAAVsj9CJ5vABdOjWgBiAB06AAfXIAIiVY9QSqoxCV6B+SrnqGHqAnU8XSvnM9Q5DEGFX66ai+IvyVAFFrQe15PUNalT9TzuBkUBtbz32piu6BgjzuH00S6UIeDhTgM5DTFsqAwFQqCmI0h7WlOe7EJQYjED8+7oIhU5zj8fY3lOO6NkqkJUNaVBdqg2TDqqLbZMQHZeKAPajoRcGwaYQioN6XErmuSGoEIsFCNxwlCdx-FjoJ4nqkJrTClJ544GBEFTFBMHQXA-E-ugY7KVOphwHxRmKSBU7Cqh0GcY02ECch6FoRhWFSYJeEEX+sEkWRFFUTRdGtu2nZoPiGhLKx463v+PzTueAGHlFsEATOmHXkeGFLmecVpbei5UDFM7vjpv5RY+86YRhdljqBTRbNpMHkLBaVuWVWXzlVuVbgVXmkeRlHUbRwB0PRjHBXiXjhSOkVTo2xBFKYRRdqYhBweqrQ4dBwksEJVCNj8VAwVRG0Ldx8HkDFh4GU0jaHTdVE3ZRD1doQtG-ldd3GQdVDnVJNXEHdAx3Y2cBdlMT2No1R32agADexBiAAvhhy6LtlCUbil067b1vkDaqIAxPEqKZuQ+DZNEcRoEFzGoAAftODPbnZ7UOHe04U0To00-T85Xleyn8QLrNXkqwDqmIhBUEsUjRJAsCJP4vD6KQFDUKmwDMGwcucDoPB6AIwiiBI0hyCAigqGomgK0rBtGBIZghjYCvJM4rjuCAwW+EaSRBKE4TiFEBOU87jiu2kQA&format=noten&ssp=10&name=The_Big_Scioty&play=1"},{"Name":"The Black Mare of Fanad","Filename":"The Black Mare of Fanad.svg","URL":"https://michaeleskin.com/abctools/abctools.html?lzw=KTAuEtQGwUwMwPYDtQAJ0YCrgLYwM4C0AQglACaoBMALAFAj4CuARhNPMmutnkQJKgAhlHABjfKgCMADgbAxCHAAcE+GACdEKLLgKFBI8fnkBzMQAsEG8tu4YAwgiYbwm+cqEbQ+OxgwAEjBQAG4wEGJC8qAwAB6gfv7oTi5uGnR0ABoAXFIA7ACsVDIAnADMMlQADHSY2ZgWMKjEUEJiANaoALJeTQhwqABiQkhC5LXZQgB07VPTqA1NAHLgSE0ACgirPqj9qABKCKZMmgCedA71GmNTdPvZGjDBdF3ZNAD09ADK2T2mpm5UF8RvhkE0ABRdcD4NAjShfUBggA00hKJSqAEpUMooExJCxIJI9hZQKBlPhsu93qBGup8PhwMgptZTNSmGt8J8qCU6D84agcKddgB3JCoMbkSCMpAmABa2QcQhwqAcGjUJiW2UEqHUMBwkhwIyFYQ0DOQRIGNOhqFA7KaOLaTRGqAAosrLNZKKsbY1UIgXDTUCwvLsBiwEIHPN58LdNX8AU1TAgCDaEOKVahVjCYGMUfz+KhRO0mjShKBbgBpbIAEQYDCELDEACt8AB9UHs2xcP248DjEBdfjVgvKNWma7KmoDocF4P00dHVBT4CD4eoD02BemJfyVezoT0kJkVAANno07XG-IR6gp-PEtbIigrYdp2DHVboiQ7RMAG11tkACChBRqAAC6dCAUiVAADp0AAPtkqAAETVshqDVlQQzVihADi6G4YMLo4fBKFoaggHkIBgwUcQ1GoKRqHoZh2EocQOAEURlCMQ46EALxiC6LpiChbroYJuEugxdAYExGFYYMOHIfhFHVkRDFkcxLqDLhtH0Yx5HVtpumAcQYiARpyGAehVGDBZcksYBWHZPBdb-tkxAgV44EIUhyG8agv64UiAkumBNB4ehv7EEiuHEOFlnkb+UF2Qlpn6ZpGFQWpqCES63EoQFoXCaJHHri6cXSbJRViOQ5mRc05DELpSSJVZdWUHAtlJAZWl2blpkiZZ1moLYMAiXJ5BYU5qAuW5AHAaBqAhF4EGIZlU1+pQynoaY8Dbr1gVwEIYFlEd5AAORgeKphwE0h1UbYbFlbdMCXZZNUXU8YgXaV6EsOQVFVegk1YcdDWvSJD37eKwYDK1bWjfAQioK926tYxI1dXtmVdaZs2ucAdDuZ5S0rRoa1+QFyWxQJCU7YFMXNQlh009WgFgQUo0UTRh3VlzUEDRgPH8WIEXIWJ5WVa51WixVE0qc11YxRjmUpZRW30f4fPGbR9WYzZ1H2YZ03OYT0RxGgDhWDYFIW-EFFed4qAAH4Ye8uk4dW7zsSq7xuhp3uexhFHvLWIAxA7pPea7fvB97vsOP7yqkUn8eh+HDZiIQVBTFI0SQLAiT+Lw+ikBQ1DnsAzBsIXnA6DwegCMIogSNIcggIoKhqJoxel83RgSGYV7F8kziuO4ICgb43ZJEEoThOIUQR5bo+OOPaRAA&format=noten&ssp=10&name=The_Black_Mare_of_Fanad&play=1"},{"Name":"Blackberry Blossom","Filename":"Blackberry Blossom.svg","URL":"https://michaeleskin.com/abctools/abctools.html?lzw=KTAuEtQGwUwMwPYDtQAJ0YCrgLYwM4C0AQglACaoBMALAFAj4CuARhNPMmutnkQJKgAhlHABjfKgCMADgbAxCHAAcE+GACdEKLLgKFBI8fnkBzMQAsEG8tu4YAwgiYbwm+cqEbQ+OxgwAEjBQAG4wEGJC8qAwAB6gfv7oTi5uGnR0ABoAXFIA7ACsVDIAnADMJQAMVHSY2cRQQmIA1iyaGgCeqA1q+Ep0DtmYGkLkAHR0AErZGjDBdACy2TQA9PQActkA6vwACqgAfqhQCD6oCHCopggIlJ7ekqAIqKPkAIR0AFrZDkI4qA4NL06ABlbJ0ADS2QA4gwGEIWGIAFb4AD6fSYSFsXFQcCgTHA5HkC34ABF+KhlEDTCN-pViWSKSwhPh8FSEKZUPSQCTyahLNZyOzOdzgLymSz8CEyKgAGz0HmM-lWGzSqByhWvVEiKCo5SNDrMlqo0RIZomABE0ItpgRnItADEAMQ4C1wW1wAA+FocFvgphgqCtFvIxAAgtDvb6AKIO6HRoPW0lxsPesMW4ih6FB0kWsPkeCeujB20se3O13uoRen1+92B4OhiNRi2x+OJi3J6GpzsZ7sOjvQmjZIvAOie7Kt13EKgwYhB4h5EPEOfe6PT2fzjNLrM99cZzeoUOF7c2u0vAPkItTg9zhc7lfENcbu+n481-e2gNB9O7z1SHM+zDAdg2hKhuxHKhAOIftByoT1R2iOI0AcFVyHwcEQBieJUDDQh7jQI5oRWCsARWbMHHI3CVlJVBPVQYjSMoiiqNJcikJw4h8K8QjUHXFZFz4nABLyITulE+j+MEqTRP4sNUDY6EgA&format=noten&ssp=10&name=Blackberry_Blossom&play=1"},{"Name":"New Rigged Ship, da","Filename":"New Rigged Ship da.svg","URL":"https://michaeleskin.com/abctools/abctools.html?lzw=KTAuEtQGwUwMwPYDtQAJ0YCrgLYwM4C0AQglACaoBMALAFAj4CuARhNPMmutnkQJKgAhlHABjfKgCMADgbAxCHAAcE+GACdEKLLgKFBI8fnkBzMQAsEG8tu4YAwgiYbwm+cqEbQ+OxgwAEjBQAG4wEGJC8qAwAB6gfv7oTi5uGnR0ABoAXFIA7ACsVDIAnDQADCUAbHSY2QByMADuqABK4KamMJQAyhbgygA0qORRDtmYGkLkAHR0rdkaMMF0ALLZNAD09ABa2Q5COKgOGmomPdmrQp1uqD1CSPjIMKgAFKvg+GgPvaDPw1ISiVygBKYYiJ6oRSPJhQCBIUyoUAWF4AKQQFiQxwshxYmkkAEFiA5jmRYGIIMhBnQLk1+pYoZACKhMEpUASkOR8cg3u0EeAEXdQK4EfgASUZABmEFzerZAnKTxLFBQACeqHw-TgPlQeNATWWWIAItZwA9UD9UB9YmRVeQzVicAguZIEHB2TNUAAFITgDSSA1QKCoJqQCx3FEUTSoADiMAQcwA0vLyNYGAwhCwxAArfAAfSeTE5fjgUCY4HI8lW-CN-FQylOpimR3KVZrdZYQnw+AbCERrZA1drUKsNl7-bbw873ZCZFQVXog-bI+s5FnwYXGfI5DzIigeeUUCEqs7YgA1nnREgzyYYKYADp0AA+2VQACICW+LVRMxauoin2-X9rngVBALfGMv1MKhOlQOBTGuMCpHfI0vzgKhyCoEYsLvVBsifLC31QuCMKwzDUG6MCn3TZMCRwcBYmfV8Py-MQCTY98AFE8i-YgqEo8DPyhdiCS4njUE4-jKEE1iRLE3ipKQ98hLEKgCSw9SKMofDCJUtSNI04gqJolM0xfZScFYrkxHfSDUGIMRyCMwTLPZYgCQAMS41yYw8ySwIsqyYBsiDeMc5zAqhfT2UMvDqOAaI4jQBxR3IfBskS+J2UIJU0AAP3ZQqY1QI04sytBiByrx8vZTZuNq+qCTqvJCvw8rjiq7xUAKujNmK3rOKOXr+qOfCgA&format=noten&ssp=10&name=New_Rigged_Ship,_da&play=1"},{"Name":"Old Straw Bonnet","Filename":"Old Straw Bonnet.svg","URL":"https://michaeleskin.com/abctools/abctools.html?lzw=KTAuEtQGwUwMwPYDtQAJ0YCrgLYwM4C0AQglACaoBMALAFAj4CuARhNPMmutnkQJKgAhlHABjfKgCMADgbAxCHAAcE+GACdEKLLgKFBI8fnkBzMQAsEG8tu4YAwgiYbwm+cqEbQ+OxgwAEjBQAG4wEGJC8qAwAB6gfv7oTi5uGnR0ABoAXFIA7ACsVDIADHkAbIV0mNkA8hSoAMqgGkIA7qikSEjhdA7ZmK3kAHR0AErZGjDBdACy2TQA9PQActkAghqtSKYwlCwAnqgOQjjHGmqSAH6oeYtUBXSN2XQA0tkA4gwMQixiAFb4AD6+GcSFsXFQcCgTHA5Hks34ABF+KhlBdTK0ziUEcjUSwhPh8OiEKZUDiQIiUahLNZyCSyRTgFT8YT8CEyKhyvRKXiaVYbByoFyeUJyOQgSIoEDlFAhAcCWIANZA0RIJUmADaAAUNoRPN4ALqoOjwVAAHToAB9sqgAEQfO2oUzkYiUUwEslW+0AMSdAF44GJ1mIoaYhAA9OCob0Op0ut3O35e+1Ip1CUxwd1UVBmq10DBx52u92emO+gNBkNhyPR2OO4se1AZrPlu0OeOUAAUAGYu27iABKVNOj45q1SXPR7JWnO9rtIgCiPuHVvzwDoOuyxH1XlAhuttqLHx9H3WnQ+xFD9ad5D2oeIl8osb9NPW-p9offPvWxDbr+DR9UHWD5UHnJcVxjAt0GPU9z0fK82w7VA73IB8PkXCMHDbNNUAg+CMxgHDb2IdYfXtBsxzAvsIOHGdvi3BxdyNC03ltD4cHAJBWJtCicHjAAaHMgN-YM2w4p0r1dGlSIjcj6341AqJEq9z1jJE8lvCMxDvFD-TEYg5KgwsJOdISL2A1TxMUqS-wMsicM0pSfSRUCXIceTUycpFsPndYBOIAT-NXScHUUj5zKRciZxzCKaBjA8NxAGJ4mOAVyHwF5kriNB1mYtAbjcpS8LycsitAjTFi+bLUp3A0CuKoryLK448Lwqrohy458tQQqzg4pSzg0sr+qG0rKo4oA&format=noten&ssp=10&name=Old_Straw_Bonnet&play=1"},{"Name":"Queen of the West","Filename":"Queen of the West.svg","URL":"https://michaeleskin.com/abctools/abctools.html?lzw=KTAuEtQGwUwMwPYDtQAJ0YCrgLYwM4C0AQglACaoBMALAFAj4CuARhNPMmutnkQJKgAhlHABjfKgCMADgbAxCHAAcE+GACdEKLLgKFBI8fnkBzMQAsEG8tu4YAwgiYbwm+cqEbQ+OxgwAEjBQAG4wEGJC8qAwAB6gfv7oTi5uGnR0ABoAXFIAbHkADACsUoWFAMz0mNkAikwwMEioCHCooBYwqADqBKB0DtmYGkLkAHR0AErZGo1QdACy2TQA9PQAWtkOQjioDhpqJgDS2QAiDAxCLGIAVvgA+vjOSLZcqHBQTODk8gv8p-xUMoDqYRrtCr9-oCWEJ8PhgQhTKgISA-gDUJZrOQEUiUcA0dDYfgQmRUHl6KioRirDYSVAyRTRuR7iIoPdlFAhABPGFiADW91ESD5JgA2gAFbIAQUInm8AF06AAxACiqAAOnQAD7ZVAAIlOetQpyVUqVxtNABpzf4tfqpUaVQBxKVO1DOqWWt1JdB2-WG1Cm8jmvVOo1O4gwMSoLV0DAGo1S2yUPUOjGutUx-1Gk1mi2em0+v2px0ut0er1ZuPoBOBpMhsOoCNR31Se1G8hUd5d2udwNq7JantpvtwHsBvtiSha2MS7LEWVeUCKnXt1BRqXRlWbrpJO21uDkJN12w+jDFxumLtwJF6lVG+DkLqx+P39fkMTENdSrtTrMl9cxE3d0dzPX0awDQ9jyDNoq3jS8YVvNM4BgD9W2zVBRy7SdKH8Qdxw7a9sJoc9FWAaI4jQBwaXIfBsgo+JUBlOU0AAP2NJjjRWN1ThWKUs1OTjeLdKUVnOEAYkYhcWNQdj+MEp0VjVFU+KzeSm1U04gA&format=noten&ssp=10&name=Queen_of_the_West&play=1"},{"Name":"Salt Creek","Filename":"Salt Creek.svg","URL":"https://michaeleskin.com/abctools/abctools.html?lzw=KTAuEtQGwUwMwPYDtQAJ0YCrgLYwM4C0AQglACaoBMALAFAj4CuARhNPMmutnkQJKgAhlHABjfKgCMADgbAxCHAAcE+GACdEKLLgKFBI8fnkBzMQAsEG8tu4YAwgiYbwm+cqEbQ+OxgwAEjBQAG4wEGJC8qAwAB6gfv7oTi5uGnR0ABoAXFIA7ACsAMwFBQCcRVIFdJjZAMoiaA4aMDAA1nQO2ZgaQuQAdHQAStktwXQAstk0APT0ddkAgkioyKJIMKjgKBoIqKB7OEJI5GTb+0wHriJ0AHLZAGoAokMAmqj4uOBQXvt7DVA0ENwGENAAaVAsS77CybYiETzeLaScjgOBwTQwFB0ABa2QcQhwqGaahMAGklgwGEIWGIAFb4AD6+GcJz8cCgTHA5HkE34ABF+KhlLtTL0iQAGXkCoUsIT4fAihCmVBSkB8wWoSzWchKlVq4Aa2Xy-AhMioABs9HVMq1VhsZqglutfXIjJEUEZyh+AE85WI2oz1m0TABtAAKSwRXlAAF1UHQnlQADp0AA+2VQACJFlnUIsqKgAHoAcUW+cLi2I6DT2dzWqrYmz-Lz5EL5HLtezJbzxEWAF4y6g+0O03QMFme8OByWAGLZp55pOoJ7z2s5vMF4tDrdV1BdjcN4hNrMt1Bt1DwBNpqR1vP90wYlUY2z7ieLy-kMTVw9b5fZNNC0PB8YCETZTFMGBKHXD8+3IH96z-Qs01rKkI2yeFETja9M0PUMwNjQshCEVAhCIlg30PMQAHIaRo0jCxgZDuzzUMQMI1AIM4wtTBI9cpxYB8aW4y9Czfcd0DwgiiJIsjSIo9d6xoujqIYy84Eo+sHzgXjOIxDSkhgvMoO-O98xoVAAITYBojiJp7XIfBsls+J82jJEAD983zGZ+VQEt-JmJ433LRZfO8p4ZkWFy0EwmNUC80L-OS2skvLSLouAOjCCofopGiSBYESfxeH0UgKGoa1gGYNhCs4HQeD0ARhFECRpDkEBFBUNRNGK0rmqMCQzG1GxiuSZxXHcEAsN8LgklQIJQnCcQohAGJ4jGxwJrSIA&format=noten&ssp=10&name=Salt_Creek&play=1"},{"Name":"Saratoga Hornpipe","Filename":"Saratoga Hornpipe.svg","URL":"https://michaeleskin.com/abctools/abctools.html?lzw=KTAuEtQGwUwMwPYDtQAJ0YCrgLYwM4C0AQglACaoBMALAFAj4CuARhNPMmutnkQJKgAhlHABjfKgCMADgbAxCHAAcE+GACdEKLLgKFBI8fnkBzMQAsEG8tu4YAwgiYbwm+cqEbQ+OxgwAEjBQAG4wEGJC8qAwAB6gfv7oTi5uGnR0ABoAXNIA7ACsAGxSBQDMBQAM9Ji5AMpeQqAIpkKoAdZIyuDKMHQOuZgaQuQAdHQASrkaMMF0AFq5DkI4qA4aapJ0dbnEQuqUyKhhGvjgyJIsAJ5rFq6SACJe4EimqEJIlJiaGjcAstZ7nQ-rkaAB6egAaVyADEGAwhCwxAArfAAfXwzk+fjgUCY4HI8j+-Ae-FQyg2pmGq0qRJJZJY+3wFJaqFpIGJpNQlms5BZb3ZwE5DKZITIqCK9A59O5VhsYqgEqlI3IaJEUDRyigQiujLEAGs0aIkPqTABtAAK2QAgoRPN4ALp0a3EAA+2QAOnQAEQw73cgC8xDE1tQ3uILH9quIcEorrDfu51phoZD5DEqHj4cjqGI1oA4sQE-6CynM2H8-782Ig5RvQ5-WI0Xmg5mfYma8HQ9mo83Y+XfY3k6nremB5Xc2JbGGG9zyDA3lnE3AqO9VyvUC624PA12wxHezG48Wk2W0xmswfcwWizvSw9x1XO3XZ02W0XXe3G0GQ-uc9GhDgAcO2HJMxyzCc4AXID639QDWmA-0WFMGAMw3eA22AOhLWyYg7S8UAnW9B4cDg61TFDOBrRgUMsxI-0qIo1AoOnLNrTyf0aIAPTEGB3lMKCB3YhiUKA+c4EXH16PecjKOo2iw2kxjKJgViw2E1BuN4-jBLo0jUHIHj52Y2xJOI-ShFk5j5IHJSbPIa0qKEjjNOtHi+KEAS+LYlyJIw8SzOkyymKomjbP05TmNUoCfM4tztM83TFP02w0WnWDuVXLdsk-LCQBieJbl5fBsmiOI0Fte00AAP1QGEwQjOrczBGFUHzMEHHLerGta9rOrhfLys3fDvFQWrupYJriBatqOq6hrJt6uaBrAIa8KqsbUBIrbVnYzc8nLbbtr29iysK9aCM2o7doOvb42u-ado64BETEQgqFGKRokgWBEn8Xh9FIChqClYBmDYH7OB0Hg9AEYRRAkaQ5BARQVDUTQ-oBuGjAkMweRsP7kmcVx3BAKrfC4JJ2mCMIIiiQb4kJxxibSIA&format=noten&ssp=10&name=Saratoga_Hornpipe&play=1"},{"Name":"Shelder Geo","Filename":"Shelder Geo.svg","URL":"https://michaeleskin.com/abctools/abctools.html?lzw=KTAuEtQGwUwMwPYDtQAJ0YCrgLYwM4C0AQglACaoBMALAFAj4CuARhNPMmutnkQJKgAhlHABjfKgCMADgbAxCHAAcE+GACdEKLLgKFBI8fnkBzMQAsEG8tu4YAwgiYbwm+cqEbQ+OxgwAEjBQAG4wEGJC8qAwAB6gfv7oTi5uGnR0ABoAXFIA7ACsVDIAnDRSNCV0mNkAyhbB5JqoAOIwCHQO2ZgaQuQAdHQAStkaMMF0ALLZNAD09ABa2Q5COKgOGmomAHLZAApC4BqSAO7BUKgnkBao2zAnqEPgpqYwlPXgynQA0tkAIgwGEIWGIAFb4AD6+GcSFsXFQcCgTHA5Hkk34f34qGUm1MvTWAAY0RisSwhPh8DiEKZUESQOjMahLNZyFSaXTgAzSeT8CEyKgAGz0ekkplWGx8i5CoHkcgQkRQCHKKBCACeZLEAGsIaIkJqTABtPbZACChE83gAunQAD7ZVAAIj+DtQJqorpaqAAYi0TcRUDbHQ4XQBeMTusQmx0tF3EFotf2Bp0uv0mz1ev4+gPRlOysSO53kd3kf3ZG2Ao3ZYjmryga12oOhsRNOCoUxCUytpPB1AwMPmXtiAfdpsttsdmDoJPO1AAPTg5D6CMXlHLGAdPbDTRp7c72Y3Lr7Q-zMDEYknI9QQnnr2XMFn+enufID9Q5BoqDLgJAMXi63F5D4Nk0RxGgZoWmgAB+qB-OssyerBLSzLBZaoCBf7VhBqDQQ46x4ShNpAA&format=noten&ssp=10&name=Shelder_Geo&play=1"},{"Name":"Smith's Reel","Filename":"Smith's Reel.svg","URL":"https://michaeleskin.com/abctools/abctools.html?lzw=KTAuEtQGwUwMwPYDtQAJ0YCrgLYwM4C0AQglACaoBMALAFAj4CuARhNPMmutnkQJKgAhlHABjfKgCMADgbAxCHAAcE+GACdEKLLgKFBI8fnkBzMQAsEG8tu4YAwgiYbwm+cqEbQ+OxgwAEjBQAG4wEGJC8qAwAB6gfv7oTi5uGnR0ABoAXFIA7ACsVACcAMwypQWldJjZAMo4kBYA5JIASjDBdA7ZmBpC5AB0dG3ZGp1QdACy2TQA9PR12QBSCDAAnqhTYgDSMEj4bqiEqH1CB2KuLDCUcBpKqEKoAOow4OoaqABWQjiowsoYNJisU8ugADLgwbEQaoOhLUCuKCic6DRqgQY3JhzAB+XzEcxwTEOBKELAJjQ09w0c3BBBiGmIQnAsHWhOCSHC+AA+ixwKZuWSxNy4CyYHMpFRJVQ6AA5bIAQXIQmUMUo53VVPOphuqBYmwcv1QDnu+EkAAocJtPN5JKKNPhQAAaVCrDatVDqRRIcgASjoO2yABEGAwhV8efhnD6-HAoExwOR5FN+EH+KhlPdTP0-gAGZOp9MsIRmzMIUyofMgFNp1CWazkMsVqvAGtFkv4EJkVAANno1cLdasNi7UF7-YG5EFyO5yigQnWxbEAGtuaIkMuTABtAAKisINtAAF1zaVzXBTAA9Uy+gA+AB06AAiINPx5Ua9PYtwIG31BPgBxN9yHgSgbmISg-xfN8FQAMSVf9iBwN9iDEEDUCggBRPI3zgIQ4EoJ8FRw1AYHwitb2fV9HiET89Xw39-yA1ByFMAjSPICCMP-ai4IQp8kJQtDGKIki8JgMQeOAqhUAvDDKOgx5v3on90Cg5jWPY0DiG4xS+MIwTUFQ9CsLEm44H-Yi33MiiqLfMl8Po1BT3NBVUN9XSNNA0iCJ0qDePggzkKM4TdKs2SQMkxTyBk8hJNvSjgDoXdsmIA8vGPZ9DOIWCuJy1C1KY4DvPAyhdIChD0AE4LjJE7DcPwwjwpgNjfyy4K4oK-KnVgzziq0ziyv8mDAowaqhJMyyxJAwjqLgGTVIS9rgLELj9MKwCULgoNUEwoNiCdHbhtQBUnQOoNMMQ4LArqsTGqm6yGIw5aWLcyh1r6oztt2-bDvKmCzsO3rxtQG6wum3VFPm2SKMS5K9wVdLvGckIvEGX0jzoW9sikx4yPIZoVJEryBq446XLcsQPJB2wOPgXT6ucs9Kep8LafMmTKLG6ihHxwnv2J-qwMG-6TtGkHavB3DItx8gaFQbI4ZAGJ4lQOpcDnIF6xsfBsmiOI0ERw9UBxVAdoAs2Tu482rYVOYQ2Vg2jKRtBTaQ1ALZ2hVuPdi3vbth2wCdhUoAZJAhAgMIhwbXX9dVo2MpNoy-k9uZ3ewuZiJ9lOzbTv5iPtuO0DS43TaDPOPdz9O8kzsE-3L32q-zmugyAA&format=noten&ssp=10&name=Smith's_Reel&play=1"},{"Name":"Westmoreland's Hornpipe","Filename":"Westmoreland's Hornpipe.svg","URL":"https://michaeleskin.com/abctools/abctools.html?lzw=KTAuEtQGwUwMwPYDtQAJ0YCrgLYwM4C0AQglACaoBMALAFAj4CuARhNPMmutnkQJKgAhlHABjfKgCMADgbAxCHAAcE+GACdEKLLgKFBI8fnkBzMQAsEG8tu4YAwgiYbwm+cqEbQ+OxgwAEjBQAG4wEGJC8qAwAB6gfv7oTi5uGnR0ABoAXFIA7ACsVDIAnDSyAGx0mNkA6gSgONbBQkjkAOSSAdZIyuDKMHQO2ZiaGgCeqACy1q4mAErZGjDBdFPZNAD09ABa2Q5COKgOGmomAMojY5MzGnN0ANLZACIMDEIsYgBW+AD6+M42n44FAmOByPIpvxnvxUMpTqYNIdUAAGSHQ2EsIT4fDwhCmVHomGoSzWch4glokBQ4lYnEhMioCr0akYklWGwMqBMllCcjkX4iKC-ZRQITjLFiADWv1ESClJgA2gAFbIAQUInm8AF01QBxAA6dAAPtlUAAiZ7m1AAMWeauetodNtQxotAFEcNbiO69cRUL7iHrXRarbb7S6I463Ra1da1QAaBzuxPHFMJ92uugYS3Wu0Op3PF1u82e72BgN+4MluPhtUu93PZOuqSx61FtViUPW8hUVD61DZY19821559m0jsPj1DPTPG41vFXZYiarygbVG03d23kMSUetFkPmvXWgOJ5tNufHsM2vcHu3F9Cj63ugB6Vf7YhgYkXObD5D1mqs42vWx5lqgPp+pWQboDWeYRgGTbzq2uazhOfYzteQ5Tu2GHoagQgEguS6qhqWpoAAFCEXgAHQAJTaiaZpoXA5B8qgcB8nA4FeqgLAwKYLCoIJLDETubEcVxthwW2Il7v6+o2vO2bPmGQGOqBR4lhBUH+oG1ZyTaepgRe7oOMeY6gV2aG9oRBJDm8IAxPExwcuQ+DZNEcRoOR66oAAfrOAZHI6wFuo6nr9v2myvM5PmQWu3iBcFwZhSGkVHMBzxAA&format=noten&ssp=10&name=Westmoreland's_Hornpipe&play=1"}];

    // Set this to false to disable state persistence
    var gAllowStatePersistence = true;

    // Mobile gesture state variables
    var gPlayerTouchStartX = 0;
    var gPlayerTouchStartY = 0;
    var gPlayerTouchStartTime = 0;
    const gPlayerSwipeThreshold = 50;

    function isIOS() {
        if (/iPad|iPhone|iPod/.test(navigator.platform)) {
            return true;
        } else {
            return navigator.maxTouchPoints &&
                navigator.maxTouchPoints > 2 &&
                /MacIntel/.test(navigator.platform);
        }
    }

    function isIPad() {
        return (
            (navigator.maxTouchPoints && navigator.maxTouchPoints > 2 && /MacIntel/.test(navigator.platform))
            ||
            (navigator.maxTouchPoints && navigator.maxTouchPoints > 2 && /iPad/.test(navigator.platform))
        );
    }

    function isAndroid(){
        if (/Android/i.test(navigator.userAgent)) {
            return true;
        }
        else{
            return false;
        }
    }

    // Populate the image lightbox from JSON
    document.addEventListener('DOMContentLoaded', () => {

        let currentIndex = 0;

        // DOM elements
        const imageElement = document.getElementById("image");
        const firstButton = document.getElementById("first");
        const prevButton = document.getElementById("prev");
        const nextButton = document.getElementById("next");
        const lastButton = document.getElementById("last");
        const tuneSelector = document.getElementById("tuneselector");
        const viewerElem = document.getElementById("viewer");
        const titleElement = document.getElementById("title");
        const subtitleElement = document.getElementById("subtitle");

        tunes.unshift({"Name":"Title Page","Filename":null,"URL":null});


        var gIsIOS = false;
        if (isIOS()) {
           gIsIOS = true;
        }

        var gIsIPad = false;
        if (isIPad()) {
           gIsIPad = true;
        }

        var gIsAndroid = false;
        if (isAndroid()){
            gIsAndroid = true;
        }

        if (gIsIPad){
            viewerElem.style.marginTop = "0px";
        }

        // Function to update the viewer with the selected image
        function selectTune() {
            currentIndex = parseInt(tuneSelector.value);
            if (isNaN(currentIndex)){
                currentIndex = 0;
            }
            updateViewer();
        }

        // Function to update the viewer with the current image
        function updateViewer() {
            if (currentIndex == 0) {
                titleElement.style.display = "block";
                subtitleElement.style.display = "block";
                imageElement.style.display = "none";
                tuneSelector.value = currentIndex;
            } else {
                titleElement.style.display = "none";
                subtitleElement.style.display = "none";
                imageElement.style.display = "block";
                imageElement.src = tunes[currentIndex].Filename;
                imageElement.alt = tunes[currentIndex].Name;
                imageElement.title = 'Click to play "'+tunes[currentIndex].Name+'"';
                tuneSelector.value = currentIndex;
            }
            // Save last tune
            if (gAllowStatePersistence){
                if (window.localStorage){
                    localStorage.lastTuneIndex_VGJIUTG = currentIndex;
                }
            }
        }

        // Event listener for the image click to open the hyperlink in a new tab
        imageElement.addEventListener("click", () => {
            if (tunes[currentIndex].URL){
               window.open(tunes[currentIndex].URL, "_blank");
            }
        });

        // Event listeners for buttons
        firstButton.addEventListener("click", () => {
            currentIndex = 0;
            updateViewer();
        });

        prevButton.addEventListener("click", () => {
            if (currentIndex > 0) {
                currentIndex--;
                updateViewer();
            }
        });

        nextButton.addEventListener("click", () => {
            if (currentIndex < tunes.length - 1) {
                currentIndex++;
                updateViewer();
            }
        });

        lastButton.addEventListener("click", () => {
            currentIndex = tunes.length - 1;
            updateViewer();
        });

        const selectElement = document.getElementById('tuneselector');
        selectElement.onchange=selectTune;

        tunes.forEach((tune, index) => {
            const option = document.createElement('option');
            option.value = index;
            option.textContent = tune.Name;
            selectElement.appendChild(option);
        });

        // Select the div where the images will be inserted
        gallery = document.getElementById('image_gallery');

        // Loop through the array and create img elements for printing
        tunes.forEach(item => {

          if (!item.URL){
              return;
          }

          // Create a div to hold each image
          const div = document.createElement('div');
          div.classList.add('image-container');

          // Create an link
          const link = document.createElement('a');
          link.href = item.URL;
          link.target = '_blank';
          link.title = 'Click to play "'+item.Name+'"';

          // Create an img element
          const img = document.createElement('img');
          img.src = item.Filename;
          img.alt = item.Name;
          img.setAttribute('width', '2400');

          // Apppend the image to the link
          link.appendChild(img);

          // Append the link to the tune image div
          div.appendChild(link);

          // Append the div to the gallery
          gallery.appendChild(div);

        });

         // Restore state
        if (gAllowStatePersistence){

            if (window.localStorage){

                currentIndex = localStorage.lastTuneIndex_VGJIUTG;

                if (currentIndex){
                    currentIndex = parseInt(currentIndex);
                    if (isNaN(currentIndex)){
                        curentIndex = 0;
                    }
                }
                else{
                    currentIndex = 0;
                }

                // Initialize the viewer
                updateViewer();

            }

        }
        else {

            // Initialize the viewer
            updateViewer();

        }

        if (gIsAndroid || gIsIOS){

            var elems = [viewerElem];

            elems.forEach(elem => {

                if (elem){

                    elem.addEventListener('touchstart', (e) => {

                        // Capture information for swipe detect
                        const touch = e.touches[0];
                        gPlayerTouchStartX = touch.clientX;
                        gPlayerTouchStartY = touch.clientY;
                        gPlayerTouchStartTime = Date.now();

                    });

                    elem.addEventListener('touchend', (e) => {

                        // Check for horizontal swipe
                        const touch = e.changedTouches[0];
                        const deltaX = touch.clientX - gPlayerTouchStartX;
                        const deltaY = touch.clientY - gPlayerTouchStartY;
                        const timeElapsed = Date.now() - gPlayerTouchStartTime;

                        // Check for horizontal swipe
                        if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > gPlayerSwipeThreshold && timeElapsed < 1000) {

                            if (deltaX > 0) {

                                // Swipe left detected, go to previous tune
                                if (prevButton) {

                                    prevButton.click();

                                }

                            } else {

                                // Swipe right detected, go to next tune
                                if (nextButton) {

                                    nextButton.click();

                                }

                            }
                        }
                    });
                }
            });
        }

    });

    </script>

</body>

</html>
